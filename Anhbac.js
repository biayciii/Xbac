/* ---------- DATA ---------- */
const users = [
  {
    username: "Dchou",
    password: "14082005",
    letters: [
      {
        title: "02062025: Gá»­i bÃ© nháº¥t Dchou",
        content: `Váº­y lÃ  cÅ©ng Ä‘Ã£ hÆ¡n 1 thÃ¡ng má»™t chÃºt xÃ­u chÃºng ta yÃªu nhau, Ä‘Ã¢y lÃ  láº§n Ä‘áº§u tiÃªn anh viáº¿t thÆ° cho em dÆ°á»›i hÃ¬nh thá»©c láº¡ hoáº¯c nÃ y. CÃ³ láº½ khoáº£ng thá»i gian bÃªn em lÃ  lÃºc anh cáº£m tháº¥y vui váº» nháº¥t. Gáº§n Ä‘Ã¢y anh cÃ³ Ä‘Ã´i chÃºt má»‡t má»i vÃ¬ há»c táº­p vÃ  cÃ´ng viá»‡c, nhÆ°ng má»—i khi Ä‘Æ°á»£c nÃ³i chuyá»‡n hay gáº·p em, ná»¥ cÆ°á»i láº¡i hiá»‡n lÃªn trÃªn mÃ´i anh. Em mang Ä‘áº¿n cho anh cáº£m giÃ¡c háº¡nh phÃºc vÃ  hÃ¡o há»©c, nhÆ° thá»ƒ má»i má»‡t má»i Ä‘á»u tan biáº¿n khi em xuáº¥t hiá»‡n. Cáº£m Æ¡n em vÃ¬ Ä‘Ã£ Ä‘áº¿n bÃªn anh, Ä‘Ã£ mang Ä‘áº¿n cho anh má»™t tÃ¬nh yÃªu mÃ  anh luÃ´n mong muá»‘n. Anh mong ráº±ng mÃ¬nh sáº½ cÃ²n táº¡o ra nhiá»u Ä‘iá»u báº¥t ngá», nhiá»u niá»m vui hÆ¡n tháº¿ nÃ y dÃ nh cho ngÆ°á»i con gÃ¡i anh yÃªu nháº¥t. <3 \n\nYÃªu vá»£ tÆ°Æ¡ng lai, Xbac cá»§a em <3`,
        code: "02062025"
      },
      {
        title: "02072025: ChÃ¢n thÃ nh cho em iu ğŸ’–",
        content: `Máº·c dÃ¹ anh khÃ´ng há» ngáº¡i ngÃ¹ng khi viáº¿t, nhÆ°ng vÃ¬ muá»‘n em rÃ¨n luyá»‡n báº£n thÃ¢n nÃªn anh sáº½ viáº¿t báº±ng tiáº¿ng Anh he :))). \n\nI am very happy to open the source code to write you these sincere words. Another month has passed, we have memories, quarrels, joys, happiness, etc. But I am still the same still here, the one who holds you in his arms, listens to your stories and jokes. Thank you for being with me, even though there were times when I accidentally forgot you. I am not a perfect person, but I will try to improve myself so that we can continue together in the following days, writing letters to each other and telling each other about what we have experienced in life and love. Let me think about you :))). Love you forever <3`,
        code: "02072025"
      },
      {
        title: "22072025: This's love for DieuChou",
        content: `ÄÃ£ gáº§n má»™t thÃ¡ng, anh láº¡i viáº¿t ra nhá»¯ng dÃ²ng tÃ¢m tráº¡ng nÃ y. Khi anh viáº¿t xong vÃ  nhÃ¬n láº¡i tháº¥y sao thÆ° dÃ i hÆ¡n nhá»¯ng thÃ¡ng trÆ°á»›c váº­y, vÃ¬ láº¡i thÃªm má»™t thÃ¡ng trÃ´i qua, chÃºng ta láº¡i cÃ³ nhá»¯ng ká»‰ niá»‡m vÃ  cÃ³ cáº£ nhá»¯ng biáº¿n cá»‘. Nhá»› láº¡i nhá»¯ng ngÃ y thÃ¡ng Ä‘i chÆ¡i vá»›i em anh láº¡i tháº¥y ráº¥t vui vÃ¬ láº§n Ä‘áº§u anh Ä‘Æ°á»£c Ä‘i leo Ä‘á»“i, Ä‘Æ°á»£c ngáº¯m bÃ¬nh minh, Ä‘Æ°á»£c cÃ¹ng em tráº£i qua nhá»¯ng thÃ¡ng ngÃ y tÆ°Æ¡i Ä‘áº¹p Ä‘Ã³. NhÆ°ng xen láº«n vÃ o Ä‘Ã³ lÃ  má»™t chÃºt há»‘i háº­n trong anh, anh Ä‘Ã£ má»™t láº§n ná»¯a lÃ m em tá»•n thÆ°Æ¡ng, lÃ m em Ä‘au thÃªm má»™t láº§n ná»¯a. LÃºc Ä‘áº¥y anh nhÆ° má»™t tháº±ng bÃ© hoáº£ng loáº¡n, chá»‰ biáº¿t nÃ³i lá»i xin lá»—i vÃ  Ã²a lÃªn khÃ³c. Anh tá»‡ mÃ  Ä‘Ãºng khÃ´ng em, anh khÃ´ng thá»ƒ biáº¿t sau nÃ y cÃ³ thá»ƒ cÃ¹ng em qua Ä‘Æ°á»£c 8 nÄƒm nhÆ° anh Ä‘Ã£ tá»«ng nÃ³i khÃ´ng. NhÆ°ng náº¿u ngÃ y nÃ o cÃ²n yÃªu em, anh sáº½ yÃªu em cho Ä‘áº¿n khi em khÃ´ng cáº§n anh ná»¯a. MÃ  em biáº¿t khÃ´ng, Ä‘Ã´i khi anh cÅ©ng ká»ƒ cho em lÃ  Ä‘i lÃ m anh chÃ¡n, má»™t pháº§n do Ä‘á»•i ca lÃ m vÃ  xá»­ lÃ­ nhiá»u Ä‘Æ¡n, mÃ  má»™t pháº§n quan trá»ng ná»¯a lÃ ... thiáº¿u em Ä‘áº¥y. ÄÃ´i khi anh cáº£m tháº¥y báº¥t lá»±c vÃ  má»i má»‡t, nhÆ°ng rá»“i gáº·p em, anh láº¡i cÃ³ thÃªm sá»©c sá»‘ng Ä‘á»ƒ cÃ³ thá»ƒ nÃ³i chuyá»‡n vá»›i nhau, cÆ°á»i cho nhau nghe nhá»¯ng cÃ¢u chuyá»‡n vÃ´ chi cá»§a chÃ­nh mÃ¬nh. NhÆ°ng khum sao, khi em Ä‘Ã£ Ä‘á»c Ä‘Æ°á»£c dÃ²ng thÆ° nÃ y, tÃ¢m tráº¡ng cá»§a anh cÅ©ng Ä‘Ã£ tá»‘t lÃªn rÃ¹i, nÃªn bÃ© Ä‘á»«ng lo cho anh nhÃ©. Váº­y lÃ  chÃºng ta cÅ©ng Ä‘i Ä‘áº¿n nhá»¯ng ngÃ y cuá»‘i thÃ¡ng 7 rá»“i, gáº§n 3 thÃ¡ng bÃªn nhau â€” vui cÃ³, buá»“n cÃ³, tá»«ng sáº¯p tan vá»¡ cÅ©ng cÃ³ â€” nhÆ°ng rá»“i chÃºng ta váº«n Ä‘á»©ng Ä‘Ã¢y, váº«n á»Ÿ bÃªn nhau, cÃ¹ng nhau Ä‘Ã³n nháº­n nhá»¯ng mÃ u sáº¯c má»›i cá»§a nhiá»u ngÃ y thÃ¡ng sáº¯p tá»›i. Hy vá»ng ráº±ng Ä‘i quÃ¢n sá»±, anh sáº½ cÃ³ thá»ƒ gáº·p em nhiá»u hÆ¡n Ä‘á»ƒ cÃ³ thá»ƒ quan tÃ¢m Ä‘áº¿n sá»©c khá»e vÃ  Ä‘Æ°á»£c trÃ² chuyá»‡n vá»›i em nhiá»u hÆ¡n. <3 u 4e, Dchou`,
        code: "22072025"
      },
      {
        title: "30082025: thÆ° cá»§a mÃ¨o iu :)) <3",
        content: `Ayyy dooo, láº¡i thÃªm má»™t thÃ¡ng ná»¯a trÃ´i qua anh láº¡i Ä‘Æ°á»£c viáº¿t thÆ° hehhee. ChÃºng ta báº¯t Ä‘áº§u thÃ¡ng 8 trong mÃ´i trÆ°á»ng má»›i nhiá»u ká»‰ niá»‡m nhÆ°ng trong Ä‘Ã³ cÅ©ng cÃ³ chÃºt biáº¿n Ä‘á»™ng. LÃ  nhá»¯ng lÃºc anh khÃ´ng liÃªn láº¡c Ä‘Æ°á»£c cho em, lÃ  nhá»¯ng ná»—i nhá»› vu vÆ¡ vÃ  cáº£ nhá»¯ng máº£nh tÃ¬nh gáº§n nhÆ° sáº¯p káº¿t thÃºc. NhÆ°ng rá»“i trong nhá»¯ng khoáº£nh kháº¯c yáº¿u lÃ²ng anh láº¡i khÃ´ng lá»¡ bá» Ä‘i má»™t ngÆ°á»i Ä‘ang yÃªu mÃ¬nh, Ä‘ang mong chá» má»™t cÃ¡i Ã´m khi gáº·p vÃ  má»™t ná»¥ hÃ´n khi táº¡m biá»‡t nhau. CÃ³ láº½ khoáº£ng thá»i gian thÃ¡ng 8 anh nháº­n tháº¥y báº£n thÃ¢n mÃ¬nh Ä‘Ã£ cÃ³ nhá»¯ng sai sÃ³t nhá»¯ng Ä‘iá»ƒm yáº¿u háº¡i ngÆ°á»i mÃ  khi anh ra khá»i HÃ²a Láº¡c anh Ä‘Ã£ dáº§n bá»›t láº¡i vÃ  muá»‘n ... yÃªu em nhiá»u hÆ¡n trÆ°á»›c. HÃ´m nay lÃ  trÃ²n 4 thÃ¡ng chÃºng ta yÃªu nhau, láº¡i thÃªm má»™t láº§n ná»¯a anh suÃ½t bá» lá»¡ em, nhÆ°ng anh váº«n á»Ÿ Ä‘Ã¢y, váº«n lÃ  má»™t chÃ ng trai luÃ´n háº¿t mÃ¬nh yÃªu em. Liá»‡u ráº±ng, cuá»™c sá»‘ng khi Ä‘i há»c cÃ³ lÃ m thay Ä‘á»•i con tim chÃºng ta khÃ´ng ná»¯a, hay lÃ  láº¡i thÃªm má»™t láº§n ná»¯a cÃ´ há»“n Ä‘Ã¡nh gá»¥c Ä‘i niá»m tin cá»§a chÃºng ta vá» nhau. Anh cÅ©ng khÃ´ng biáº¿t ná»¯a, ká»‡ Ä‘i Ä‘á»ƒ ngÃ y nÃ y thÃ¡ng sau anh sáº½ ká»ƒ cho em nhÃ©. \n ä½ æ°¸è¿œä¸ä¼šå­¤å• <3`,
        code: "30082025"
      },
      {
        title: "01102025: chouchouchou siuuuu Ä‘Ã¡ng iu",
        content: `NhÃ¬n vÃ´ dÃ²ng Ä‘á»i Ä‘Ã£ qua, cuá»™c Ä‘á»i báº¥t biáº¿n giá»¯a biá»ƒn lÅ© vÃ´ pháº¡t chÃºng ta Ä‘Ã£ tráº£i qua 5 thÃ¡ng bÃªn nhau trong nhá»¯ng ngÃ y mÆ°a lÅ© cá»§a thá»i tiáº¿t. ThÃ¡ng nÃ y tháº­t láº¡ vÃ¬ chÃºng ta Ä‘Ã£ háº¡nh phÃºc, vui cÃ³, buá»“n cÃ³ vÃ  má»‡t má»i tá»« anh. Cuá»™c Ä‘á»i cÅ©ng biáº¿t chiá»u Ä‘á»i khi tÆ°á»Ÿng ráº±ng chÃºng ta sáº½ cÃ³ má»™t thÃ¡ng very chill nhÆ°ng cÆ¡n mÆ°a cuá»‘i thÃ¡ng Ä‘áº¿n trÃ´i Ä‘i sá»± báº£n lÄ©nh, cháº¥t thÃ©p cá»§a má»™t Ã´ng cu á»Ÿ thÃ nh phá»‘ thÃ´ng minh nÃ o Ä‘Ã³. Ã”ng cu Ä‘áº¥y cháº¯c giá»‘ng anh nhÆ°ng khi báº£n lÄ©nh háº¿t Ã´ng cu láº¡i rÆ¡m rá»›m nÆ°á»›c máº¯t trÆ°á»›c ngÆ°á»i mÃ¬nh yÃªu, dÃ¹ muá»‘n tá»« bá» vÃ¬ nhá»¯ng ngÃ y báº¥t Ä‘á»‹nh trong thÃ¡ng nhÆ°ng rá»“i khi Ä‘á»©ng trÆ°á»›c ngÆ°á»i mÃ  Ã´ng cu luÃ´n yÃªu thÆ°Æ¡ng, luÃ´n cÃ¹ vÃ  luÃ´n dÃµi theo áº¥y láº¡i khÃ´ng muá»‘n rá»i xa vÃ¬ nhá»¯ng tiáº¿ng yÃªu toÃ¡t ra giá»¯a trá»i mÆ°a hÃ´m áº¥y khiáº¿n Ã´ng cu khÃ´ng muá»‘n Ä‘á»ƒ ngÆ°á»i mÃ¬nh yÃªu cÃ´ Ä‘Æ¡n thÃªm má»™t láº§n ná»¯a. Haizz nhÆ°ng rá»“i háº¿t mÆ°a, háº¿t thÃ¡ng anh khÃ´ng tháº¥y Ã´ng cu thÃ nh phá»‘ thÃ´ng minh ná»¯a, khÃ´ng cÃ²n tháº¥y sá»± má»‡t má»i nÃ o cáº£. Mong ráº±ng chÃºng ta dÃ¹ cÃ³ bÃ£o giÃ³ ra sao dÃ¹ cÃ³ muá»‘n tá»« bá» khi má»‡t má»i nhÆ°ng váº«n Ä‘á»£i má»™t cÃ¡i Ã´m, má»™t cÃ¢u tháº§n chÃº, má»™t tiáº¿ng yÃªu Ä‘á»ƒ cÃ³ thá»ƒ luÃ´n bÃªn nhau Ä‘áº¿n nhá»¯ng ngÃ y khÃ´ng muá»‘n rá»i xa nhau ná»¯a. Iu bÃ© nhÃ¬u láº¯m, thÃ¡ng nÃ y cÃ¹ liÃªn tá»¥c :))))`,
        code: "01102025"
      },
      {
        title: "01112025: bÃ© gÃ¡i 10 tuá»•i",
        content: `one month just passed, i write more code. Mie cá»© tÆ°á»Ÿng má»™t thÃ¡ng ngon lÃ nh cÃ nh Ä‘Ã o, Ä‘Ã o rÆ¡i ta láº¡i hÃºp thÃ¬ láº¡i khÃ´ng hiá»ƒu sao trá»“n lá»i láº¡i cho má»™t cÄƒn bá»‡nh tháº¿ ká»‰ tá»« thá»i lÃ­nh mÅ© cá»‘i lÃ  bá»‡nh *** vÃ o anh. Thá» lÃºc Ä‘áº¥y, vÃ o cÃ¡i ngÃ y cá»§a women lÃºc biáº¿t bá»‡nh máº·t anh Ä‘Æ¡ ngÆ°á»i ra khÃ´ng biáº¿t cuá»™c sá»‘ng tháº¿ nÃ o, cÃ²n em thÃ¬ :) nhÆ°ng em váº«n lo láº¯ng cho sá»©c khá»e cá»§a anh. Tháº¿ lÃ  anh trá»Ÿ thÃ nh cáº­u buá»“n. Rá»“i Ä‘i ra quÃ¡n mua má»™t bÃ³ hoa táº·ng em nhÆ°ng cuá»™c Ä‘á»i láº¡i cho anh váº¥p cá» láº§n 2 vÃ¬ háº¿t hÃ ng. Cáº£m giÃ¡c nhÆ° ngÃ y mÃ  anh muá»‘n dÃ nh cho nhá»¯ng ngÆ°á»i yÃªu thÆ°Æ¡ng rá»“i láº¡i thÃ nh ngÃ y cá»§a nhá»¯ng ngÆ°á»i yÃªu thÆ°Æ¡ng cho anh. Nhá»¯ng ngÃ y bá»‹ bá»‡nh, dÃ¹ cÃ³ cÃ¡ch xa má»™t chÃºt nhÆ°ng em váº«n luÃ´n khÃ´ng nÃ© trÃ¡nh anh, váº«n muá»‘n Ã´m anh dÃ¹ anh muá»‘n báº£o vá»‡ sá»©c khá»e cho em. NhÆ°ng rá»“i anh khá»i bá»‡nh, Ä‘Ã³ lÃ  lÃºc cuá»™c sá»‘ng trá»Ÿ láº¡i bÃ¬nh thÆ°á»ng rá»“i anh cÃ³ nhá»¯ng ngÃ y cÃ¹ em tiáº¿p. NhÃ¬n láº¡i thÃ¡ng 10 ráº¥t hay vÃ  buá»“n cÆ°á»i nhÆ°ng thÃ´i khÃ´ng sao em áº¡, thá»i gian cÃ³ trÃ´i nhÆ°ng tÃ¬nh cáº£m váº«n á»Ÿ Ä‘Ã³, mong ráº±ng em váº«n luÃ´n vui tÆ°Æ¡i Ä‘Ã³n nháº­n nhá»¯ng tÃ¬nh cáº£m cá»§a anh nhÃ©, yÃªu em bÃ© gÃ¡i vá» 20 ruá»™t 10 tuá»•i nhÃ¬u.`,
        code: "01112025"
      },
      {
        title: "05122025: ğŸ˜€ğŸ™‚ğŸ™ğŸ˜¢ğŸ˜­",
        content: `ThÃ¡ng chia tay, khÃ´ng biáº¿t viáº¿t gÃ¬ ğŸ™`,
        code: "05122025"
      },
      {
        title: "30122025: Ending 2025 ğŸ§¨ğŸ†",
        content: `Váº­y lÃ  má»™t nÄƒm sáº¯p trÃ´i qua, cÃ³ vui cÃ³ buá»“n, háº¡nh phÃºc-tan vá»¡-chia li-hi vá»ng. DÃ¹ cÃ³ ra sao, chÃºng ta váº«n háº¡nh phÃºc bÃªn nhau dÃ¹ trong tim má»—i ngÆ°á»i cÅ©ng Ä‘Ã£ cÃ³ nhá»¯ng váº¿t gá»£n. Má»™t nÄƒm dÆ°Æ¡ng lá»‹ch sáº¯p trÃ´i qua, mong ráº±ng nÄƒm tá»›i chÃºng ta váº«n sáº½ cÃ¹ng nhau háº¡nh phÃºc, cÃ¹ng yÃªu thÆ°Æ¡ng Ä‘á»ƒ cÃ¹ng hy vá»ng cho má»™t tÃ¬nh yÃªu Ä‘áº¹p nhÃ©. \n YÃªu em, ngÆ°á»i lá»«a tÃ¬nh tÃ´i ğŸ™‚ğŸ˜€ğŸ˜Š`,
        code: "30122025"
      }
    ]
  }
];

/* ---------- GLOBAL ---------- */
let selectedLetter = null;

/* ---------- AUTH ---------- */
function login() {
  const user = users.find(
    u =>
      u.username === document.getElementById("username").value.trim() &&
      u.password === document.getElementById("password").value.trim()
  );

  if (user) {
    showLetters(user.letters);
    toggleScreen("login-screen", false);
    toggleScreen("letter-screen", true);
  } else {
    document.getElementById("login-msg").textContent = "Sai thÃ´ng tin Ä‘Äƒng nháº­p!";
  }
}

/* ---------- LETTER LIST ---------- */
function showLetters(letters) {
  const list = document.getElementById("letter-list");
  list.innerHTML = "";
  letters.forEach(letter => {
    const li = document.createElement("li");
    li.textContent = letter.title;
    li.onclick = () => {
      selectedLetter = letter;
      toggleScreen("letter-screen", false);
      toggleScreen("verify-screen", true);
    };
    list.appendChild(li);
  });
}

/* ---------- VERIFY CODE ---------- */
function verifyCode() {
  const codeInput = document.getElementById("verify-code").value.trim();

  if (selectedLetter && codeInput === selectedLetter.code) {
    toggleScreen("verify-screen", false);
    document.getElementById("letter-title").textContent = selectedLetter.title;
    document.getElementById("letter-body").textContent = selectedLetter.content;
    toggleScreen("letter-content-screen", true);
  } else {
    document.getElementById("verify-msg").textContent = "MÃ£ xÃ¡c nháº­n khÃ´ng Ä‘Ãºng!";
  }
}

/* ---------- BACK TO LETTER LIST ---------- */
function backToLetterList() {
  toggleScreen("letter-content-screen", false);
  toggleScreen("letter-screen", true);
}

/* ---------- HELPER ---------- */
function toggleScreen(id, show) {
  document.getElementById(id).style.display = show ? "block" : "none";
}
/* ---------- FLYING CHAOS BOUNCE EFFECT ---------- */
document.addEventListener("DOMContentLoaded", () => {
  const flyingImgs = document.querySelectorAll(".hello-kitty, .golden, .kitty-fly, .dog-top");

  flyingImgs.forEach(img => {
    // Ä‘áº·t vá»‹ trÃ­ ngáº«u nhiÃªn ban Ä‘áº§u
    img.style.top = Math.random() * (window.innerHeight - 120) + "px";
    img.style.left = Math.random() * (window.innerWidth - 120) + "px";

    // random tá»‘c Ä‘á»™ bay
    let speedX = (Math.random() * 0.5 + 0.2) * (Math.random() < 0.5 ? 1 : -1);
    let speedY = (Math.random() * 0.5 + 0.2) * (Math.random() < 0.5 ? 1 : -1);

    // random xoay nháº¹ Ä‘á»ƒ nhÃ¬n tá»± nhiÃªn hÆ¡n
    let rotation = Math.random() * 360;

    function move() {
      let x = parseFloat(img.style.left);
      let y = parseFloat(img.style.top);

      x += speedX;
      y += speedY;

      // náº¿u cháº¡m viá»n mÃ n hÃ¬nh â†’ báº­t ngÆ°á»£c hÆ°á»›ng
      if (x <= 0) {
        x = 0;
        speedX *= -1;
        img.style.transform = "scaleX(1) rotate(" + rotation + "deg)";
      }
      if (x + img.width >= window.innerWidth) {
        x = window.innerWidth - img.width;
        speedX *= -1;
        img.style.transform = "scaleX(-1) rotate(" + rotation + "deg)";
      }

      if (y <= 0) {
        y = 0;
        speedY *= -1;
      }
      if (y + img.height >= window.innerHeight) {
        y = window.innerHeight - img.height;
        speedY *= -1;
      }

      img.style.left = x + "px";
      img.style.top = y + "px";

      requestAnimationFrame(move);
    }

    move();
  });
});
